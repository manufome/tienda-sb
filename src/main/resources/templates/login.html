
<!DOCTYPE html>
<html lang="es">
<head>
    <title>Iniciar Sesión</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/login.css}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body th:style="@{'background-image: url(/images/cover-login.jpg); background-size: cover;'}">

<main>
    <!-- formulario de login-Registro -->
    <div class="contenerdor__todo">
        <div class="caja_trasera">
            <div class="caja_trasera-login">
                <h3>¿Ya tienes cuenta?</h3>
                <p> Inicia sesión, ingresa a la página </p>
                <button id="btn__iniciar-sesion">Iniciar Sesión </button>
            </div>
            <div class="caja_trasera-register">
                <h3>¿Aún no tienes cuenta?</h3>
                <p> Registrate para que puedas iniciar sesión </p>
                <button id="btn__registrarse">Registrarse </button>
            </div>
        </div>
        <div class="contenedor__login-register">
            <form th:action="@{/login}" method="post" class="formulario__login">
                <h2>Iniciar Sesion </h2>
                <div class="input-box animation" style="--i: 1; --j: 24;">
                    <input type="text" name="username" required placeholder="Nombre de Usuario">
                    <i class='bx bxs-envelope'></i>
                </div>
                <div class="input-box animation">
                    <input type="password" name="password" required placeholder="Contraseña">
                    <i class='bx bxs-envelope'></i>
                </div>
                <div th:if="${param.error}" class="alert alert-danger" role="alert" th:text="${param.error}"></div>
                <div class="input-box animation">
                    <br>
                    <br>
                    <center><a href="@{/recuperar}" style="font-size: 12px;">He olvidado mi contraseña</a></center>
                </div>
                <center><button type="submit">Entrar</button></center><br>
            </form>
            <form th:action="@{/register}" method="post" th:object="${newUser}" class="Formulario__register">
                <h2>Registrarse</h2>
                <div class="input-box animation">
                    <input type="text" th:field="*{name}" required placeholder="Nombre Completo ">
                    <i class='bx bxs-envelope'></i>
                </div>
                <input type="text" th:field="*{username}" required placeholder="Nombre de Usuario">
                <input type="text" th:field="*{address}" required placeholder="Dirección">
                <input type="email" th:field="*{email}" required placeholder="Correo Electrónico">
                <input type="password" th:field="*{password}" placeholder="Contraseña" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,16}$"
                       title="La contraseña debe contener al menos una mayúscula, una minúscula, un número y tener una longitud de 8 a 16 caracteres">
                <input type="password" th:field="*{confirmPassword}" placeholder="Confirmar Contraseña" required pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,16}$"
                       title="La contraseña debe contener al menos una mayúscula, una minúscula, un número y tener una longitud de 8 a 16 caracteres">
                <div th:if="${param.error_register}" class="alert alert-danger" role="alert" th:text="${param.error_register}"></div>
                <center><button type="submit">Registrarse</button></center>
            </form>
            <div class="contenedor__login-register">
                <div class="caja_trasera-register">
                </div>
            </div>
        </div>
    </div>
</main>
<script th:src="@{/js/login.js}"> </script>
<script th:inline="javascript">
    const registerTab = [[${param.register}]];
    if (registerTab) {
        register();
    }
</script>
</body>
</html>
